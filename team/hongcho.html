<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Lim Hong Cho - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Lim Hong Cho - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-tuitioncor"><a class="link" href="#project-tuitioncor">PROJECT: TuitionCor</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>TuitionCor is for those who <strong>prefer to use a desktop app for managing client information</strong>. More importantly, TuitionCor is <strong>optimized for those who prefer to work with a Command Line Interface</strong> (CLI) while still having the benefits of a Graphical User Interface (GUI). If you can type fast, TuitionCor can get your client management tasks done faster than traditional GUI apps.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>close, restore and switch command</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does:</p>
<div class="ulist">
<ul>
<li>
<p>Close command enables user to be able to close a client which is either a student and tutor. The closed client will be stored and displayed in a closed client list.</p>
</li>
<li>
<p>Restore command enables user to restore a previously closed client from the closed client list. The restored client will now be stored and displayed in active client list.</p>
</li>
<li>
<p>Switch command allows user to toggle between active client list and closed client list.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Justification: This feature improves the product significantly because after a client is successfully assigned by the user, the client can be closed instead of deleting. This allows the user to maintain an organised and updated active client list containing unassigned clients only. Furthermore, information of past assigned clients can also be retrieved conveniently from the closed clients list if required. Clients can also be restored in an event that they become active again.</p>
</li>
<li>
<p>Highlights: This enhancement paves the foundation for further enhancement to TuitionCor.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: added a sort commands to allow sorting by name, subject, grade and location*</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103JAN2018-F11-B2/main/blob/master/collated/functional/olimhc.md">Functional code</a>] [<a href="https://github.com/CS2103JAN2018-F11-B2/main/blob/master/collated/test/olimhc.md">Test code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.3</code> - <code>v1.5rc</code> (3 releases) on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Enhanced find command to be able to match different grade formats and multiple grade fields. (Pull requests <a href="https://github.com/CS2103JAN2018-F11-B2/main/pull/121">#121</a>)</p>
</li>
<li>
<p>Reworked the Ui to allow display of tutor and student list. (Pull requests <a href="https://github.com/CS2103JAN2018-F11-B2/main/pull/18">#18</a>)</p>
</li>
<li>
<p>Added an extra status bar to allow users to know whether they are viewing active client list or closed client list. (Pull requests <a href="https://github.com/CS2103JAN2018-F11-B2/main/pull/91">#91</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Provided useful bug reports and suggestions for other teams. (Issues <a href="https://github.com/CS2103JAN2018-W13-B4/main/issues/218">#218</a>, <a href="https://github.com/CS2103JAN2018-W13-B4/main/issues/230">#230</a>, <a href="https://github.com/CS2103JAN2018-W13-B4/main/issues/224">#224</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a new Github plugin (TravisCi) to the team repo.</p>
</li>
<li>
<p>Enabled auto publishing of documentation.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="closing-a-client-code-close-code-code-since-v1-4-code"><a class="link" href="#closing-a-client-code-close-code-code-since-v1-4-code">Closing a client : <code>close</code> <code>[Since v1.4]</code></a></h3>
<div class="paragraph">
<p>Close an existing and active student in active student&#8217;s list.<br>
Format: <code>close INDEX c/s</code><br>
Alias Format: <code>cs INDEX c/s</code></p>
</div>
<div class="paragraph">
<p>Close an existing and active tutor in active student&#8217;s list.<br>
Format: <code>close INDEX c/t</code><br>
Alias Format: <code>cs INDEX c/t</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This command is only available when viewing the active client&#8217;s list. Use command word <code>switch</code> to toggle from closed list to active list.
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Close the client based on selected category either c/s for students or c/t for tutors at the specified <code>INDEX</code>. The index refers to the index number shown in the last tutors or students listing. The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>Closed student or tutor will be removed from the active list. They can now be found in the closed list which is accessible by command word <code>switch</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="restoring-a-client-code-restore-code-code-since-v1-4-code"><a class="link" href="#restoring-a-client-code-restore-code-code-since-v1-4-code">Restoring a client : <code>restore</code> <code>[Since v1.4]</code></a></h3>
<div class="paragraph">
<p>Restore an existing and closed student in the closed student&#8217;s list.<br>
Format: <code>restore INDEX c/s</code><br>
Alias Format: <code>res INDEX c/s</code></p>
</div>
<div class="paragraph">
<p>Restore an existing and closed tutor in the closed tutor&#8217;s list.<br>
Format: <code>restore INDEX c/t</code><br>
Alias Format: <code>res INDEX c/t</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This command is only available when viewing the closed client&#8217;s list. Use command word <code>switch</code> to toggle from active list to closed list.
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Restore the client based on selected category either c/s for students or c/t for tutors at the specified <code>INDEX</code>. The index refers to the index number shown in the last tutors or students listing. The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>Restored student or tutor will be removed from the closed list. They can now be found in the active list which is accessible by command word <code>switch</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="switching-between-active-and-closed-client-s-list-code-switch-code-code-since-v1-4-code"><a class="link" href="#switching-between-active-and-closed-client-s-list-code-switch-code-code-since-v1-4-code">Switching between active and closed client&#8217;s list : <code>switch</code> <code>[Since v1.4]</code></a></h3>
<div class="paragraph">
<p>Switch the display between active and closed client&#8217;s list.<br>
Format: <code>switch</code><br>
Alias Format: <code>sw</code></p>
</div>
</div>
<div class="sect2">
<h3 id="integration-with-gmail-code-coming-in-v2-0-code"><a class="link" href="#integration-with-gmail-code-coming-in-v2-0-code">Integration with Gmail <code>[coming in v2.0]</code></a></h3>
<div class="paragraph">
<p>Link a valid Gmail account to TuitionCor.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
TuitionCor will only be linked to <strong>one</strong> valid Gmail account at any point of time
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>set e/EMAIL pw/PASSWORD</code><br>
A success message of the format <em>Successfully linked EMAIL to TuitionCor</em> will be displayed for successful linking.</p>
</div>
<div class="paragraph">
<p>A failure message of the format <em>Failed to link EMAIL to TuitionCor</em> will be displayed for unsuccessful linking. Please check that you have inputted the correct email and password.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>set e/BestCoordinatorInSg@gmail.com pw/Iamthebest</code><br>
Links Gmail account <code>BestCoordinatorInSg@gmail.com</code> to TuitionCor upon a successful login.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="email-notification-function-code-coming-in-v2-0-code"><a class="link" href="#email-notification-function-code-coming-in-v2-0-code">Email notification function <code>[coming in v2.0]</code></a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Please ensure that you have successfully linked a Gmail account to TuitionCor before you are able to use this function
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<div class="paragraph">
<p>Format: <code>notify INDEX c/CATEGORY INDEX c/CATEGORY</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The first <code>INDEX c/CATEGORY</code> refers to the client you would like to notify and send an email with the relevant contact details.<br>
The second <code>INDEX c/CATEGORY</code> refers to the client whose information you would like to send to the former client.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Both CATEGORY cannot be referring to the same category.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The email notification sent to will be based on the email in the client&#8217;s information.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>notify 1 c/s 1 c/t</code><br>
An email will be send to the first student on the students list using your linked Gmail account. The email will contain relevant information regarding the first tutor on the tutors list.</p>
</li>
<li>
<p><code>notify 2 c/t 1 c/s</code><br>
An email will be send to the second tutor on the tutors list using your linked Gmail account. The email will contain relevant information regarding the first student on the students list.<br></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="closed-client-list"><a class="link" href="#closed-client-list">Closed client list</a></h3>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>The closed client list is where closed clients students or tutors information are stored and displayed.</p>
</div>
<div class="paragraph">
<p>The implementation of the storage is similar to how clients are stored in the TuitionCor. Two <code>UniqueClientList</code> namely <code>closedStudents</code> and <code>closedTutors</code> were created to store the information of closed students and tutors.</p>
</div>
<div class="paragraph">
<p>The addition of clients into their respective <code>UniqueClientList</code> are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> <span class="type">void</span> addClosedStudent(Client t) <span class="directive">throws</span> <span class="exception">AssertionError</span> {
        closedStudents.add(closedStudent);
    }

   <span class="directive">public</span> <span class="type">void</span> addClosedTutor(Client t) <span class="directive">throws</span> <span class="exception">AssertionError</span> {
        closedTutors.add(closedTutor);
    }

   <span class="directive">public</span> <span class="type">void</span> add(Client toAdd) <span class="directive">throws</span> <span class="exception">AssertionError</span> {
        requireNonNull(toAdd);
        <span class="keyword">if</span> (contains(toAdd)) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">It's impossible to have a duplicate person here</span><span class="delimiter">&quot;</span></span>);
        }
        internalList.add(toAdd);
   }</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
 An <code>AssertionError</code> is also thrown as there should not exist any duplicated person in the active list.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Implementation of the removal of clients from the list are as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> <span class="type">boolean</span> removeClosedClient(Client key, Category category) <span class="directive">throws</span> PersonNotFoundException {
        <span class="predefined-type">Boolean</span> isSuccess;

        <span class="keyword">if</span> (category.isStudent()) {
            isSuccess = closedStudents.remove(key);
        } <span class="keyword">else</span> {
            isSuccess = closedTutors.remove(key);
        }

        <span class="keyword">if</span> (isSuccess) {
            <span class="keyword">return</span> <span class="predefined-constant">true</span>;
        } <span class="keyword">else</span> {
            <span class="keyword">throw</span> <span class="keyword">new</span> PersonNotFoundException();
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the addition of closed client list, certain commands will be unique to only closed or active client list</p>
</div>
<div class="paragraph">
<p>Commands available in closed client&#8217;s list:<br>
<code>clear</code> <code>exit</code> <code>find</code> <code>help</code> <code>history</code> <code>list</code> <code>redo</code> <code>undo</code> <code>restore</code> <code>switch</code></p>
</div>
<div class="paragraph">
<p>Commands available in active client&#8217;s list:<br>
<code>addclient</code> <code>clear</code> <code>close</code> <code>delete</code> <code>edit</code> <code>exit</code> <code>find</code> <code>help</code> <code>history</code> <code>list</code> <code>match</code> <code>redo</code> <code>undo</code> <code>remove</code> <code>sort</code> <code>switch</code></p>
</div>
<div class="paragraph">
<p>A check is implemented this way in all commands features that available only when viewing active client list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="keyword">if</span> (!ListPanelController.isCurrentDisplayActiveList()) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandNotAvailableInClosedViewException();
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This allows <code>CommandNotAvailableInClosedViewException</code> to be thrown when the
user is attempts to use a command unique to active list view while viewing closed list view.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-integration-of-commands-which-were-unique-to-active-client-list-to-closed-client-list"><a class="link" href="#aspect-integration-of-commands-which-were-unique-to-active-client-list-to-closed-client-list">Aspect: Integration of commands which were unique to active client list to closed client list.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Limit the number of commands available to closed clients list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: This is easier to implement as there would be less changes to existing commands as certain commands are not relevant while viewing closed client list.</p>
</li>
<li>
<p>Cons: Design of unique commands would still have to be changed if they were to be made available to both list.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Allow the display to automatically switch to either closed or active list list where the command is available upon user input.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: This is more intuitive to users.</p>
</li>
<li>
<p>Cons: This is much harder to implement as this would include require changes to be made to the command structure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="close-feature"><a class="link" href="#close-feature">Close feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>The close command allows users to remove a particular client from the active client&#8217;s list and stores it in the closed client&#8217;s list.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CloseCommand extends <code>UndoableCommand</code> and this is an undoable command. It overwrites <code>executeUndoableCommand</code> in abstract class <code>UndoableCommand</code>.</p>
<div class="ulist">
<ul>
<li>
<p>It will first remove the the selected client from the active client list. If this particular client is not found, a <code>PersonNotFoundException</code> will be thrown.</p>
</li>
<li>
<p>After which, the particular removed client will be added to the closed client list. An <code>AssertionError</code> will be thrown if a duplicated client is detected as it should not be possible to have a duplicated client in the active client list in TuitionCor.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        requireNonNull(clientToClose);
        <span class="keyword">try</span> {
            model.deleteClient(clientToClose, category);
        } <span class="keyword">catch</span> (PersonNotFoundException pnfe) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The target client cannot be missing</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="keyword">try</span> {
            <span class="keyword">if</span> (category.isStudent()) {
                model.addClosedStudent(clientToClose);
            } <span class="keyword">else</span> {
                model.addClosedTutor(clientToClose);
            }
        } <span class="keyword">catch</span> (DuplicatePersonException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The client should not be duplicated</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="keyword">if</span> (category.isStudent()) {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_CLOSE_STUDENT_SUCCESS, clientToClose));
        } <span class="keyword">else</span> {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_CLOSE_TUTOR_SUCCESS, clientToClose));
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A sequence diagram is shown below to show the current design when a user input "close 1 c/s"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CloseSequenceDiagram.PNG" alt="CloseSequenceDiagram" width="800">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-implementation-of-the-close-command"><a class="link" href="#aspect-implementation-of-the-close-command">Aspect: Implementation of the close command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Current implementation calls model component twice to execute deleteClient and addClosedStudent or addClosedTutor.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: This ensures that deleteClient is able to execute successfully before addClosedStudent is executed.</p>
</li>
<li>
<p>Cons: This reduces code efficiency.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Implement a closeClient method in model to execute deleteClient and addClosedStudent or addClosedTutor.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Model can be called once.</p>
</li>
<li>
<p>Cons: New developers might no understand as this reduces code readability.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="restore-feature"><a class="link" href="#restore-feature">Restore feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-3"><a class="link" href="#current-implementation-3">Current Implementation</a></h4>
<div class="paragraph">
<p>The restore command allows users to remove a particular client from the closed client&#8217;s list and restore it back to the active client&#8217;s list.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>RestoreCommand</code> extends <code>UndoableCommand</code> and this is an undoable command. It overwrites <code>executeUndoableCommand</code> in abstract class <code>UndoableCommand</code>.</p>
<div class="ulist">
<ul>
<li>
<p>It will first remove the the selected client from the closed client list. If this particular client is not found, a <code>PersonNotFoundException</code> will be thrown.</p>
</li>
<li>
<p>After which, the particular removed client will be added to the active client list. An AssertionError will be thrown if a duplicated client is detected as it should not be possible to have a duplicated client in the closed client list in TuitionCor.</p>
</li>
</ul>
</div>
</li>
<li>
<p>This design is very similar to close command&#8217;s design.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The implementation is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        requireNonNull(clientToRestore);
        <span class="keyword">try</span> {
            model.deleteClosedClient(clientToRestore, category);
        } <span class="keyword">catch</span> (PersonNotFoundException pnfe) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The target client cannot be missing</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="keyword">try</span> {
            <span class="keyword">if</span> (category.isStudent()) {
                model.addStudent(clientToRestore);
            } <span class="keyword">else</span> {
                model.addTutor(clientToRestore);
            }
        } <span class="keyword">catch</span> (DuplicatePersonException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The client should not be duplicated</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="keyword">if</span> (category.isStudent()) {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_RESTORE_STUDENT_SUCCESS, clientToRestore));
        } <span class="keyword">else</span> {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_CLOSE_TUTOR_SUCCESS, clientToRestore));
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>A sequence diagram is shown below to show the current design when a user input "restore 1 c/s"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RestoreSequenceDiagram.PNG" alt="RestoreSequenceDiagram" width="800">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="switch-feature"><a class="link" href="#switch-feature">Switch feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-4"><a class="link" href="#current-implementation-4">Current Implementation</a></h4>
<div class="paragraph">
<p>Switch commands allows user to toggle between the active and closed client&#8217;s list and it extends <code>Command</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implementation of Switch command that overrides <code>execute()</code> method in <code>Command</code> is as follows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        EventsCenter.getInstance().post(<span class="keyword">new</span> ClientListSwitchEvent());
        listPanelController.switchDisplay();
        <span class="keyword">if</span> (listPanelController.getCurrentListDisplayed() == ListPanelController.DisplayType.closedList) {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS + MESSAGE_CLOSED_DISPLAY_LIST);
        } <span class="keyword">else</span> {
            <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS + MESSAGE_ACTIVE_DISPLAY_LIST);
        }
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>ListPanelController</code> is used to keep track of the currently displayed list and switch the list when called.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> <span class="type">void</span> switchDisplay() {
        <span class="keyword">switch</span> (currentlyDisplayed) {
        <span class="keyword">case</span> activeList:
            currentlyDisplayed = DisplayType.closedList;
            <span class="keyword">break</span>;

        <span class="keyword">case</span> closedList:
            currentlyDisplayed = DisplayType.activeList;
            <span class="keyword">break</span>;

        <span class="keyword">default</span>:
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">This should not be possible.</span><span class="delimiter">&quot;</span></span>);
        }
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Switch command uses <code>ClientListSwitchEvent</code> to raise an event whenever the user wants to toggle the list displayed.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">   <span class="directive">public</span> <span class="type">class</span> <span class="class">ClientListSwitchEvent</span> <span class="directive">extends</span> BaseEvent {

       <span class="annotation">@Override</span>
       <span class="directive">public</span> <span class="predefined-type">String</span> toString() {
           <span class="keyword">return</span> <span class="local-variable">this</span>.getClass().getSimpleName();
       }
   }
[source,java]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>When a event is raise it&#8217;s handled by <code>handleClientListSwitchEvent</code> which resides in both <code>StudentListPanel</code> and <code>TutorListPanel</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Subscribe</span>
    <span class="directive">private</span> <span class="type">void</span> handleClientListSwitchEvent(ClientListSwitchEvent event) {
        logger.info(LogsCenter.getEventHandlingLogMessage(event));
        switchListDisplay();
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>This will allow <code>StudentListPanel</code> and <code>TutorListPanel</code> to be updated accordingly based on the current list that is on display.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">private</span> <span class="type">void</span> switchListDisplay() {
        ListPanelController listPanelController = ListPanelController.getInstance();
        <span class="keyword">switch</span> (listPanelController.getCurrentListDisplayed()) {
        <span class="keyword">case</span> activeList:
            setConnectionsForClosedStudents();
            <span class="keyword">break</span>;

        <span class="keyword">case</span> closedList:
            setConnectionsForStudents();
            <span class="keyword">break</span>;

        <span class="keyword">default</span>:
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">This should not be possible.</span><span class="delimiter">&quot;</span></span>);
        }
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A sequence diagram is shown below when switch command is entered by user.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SwitchSequenceDiagram.PNG" alt="SwitchSequenceDiagram" width="800">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-implementation-of-switch-command"><a class="link" href="#aspect-implementation-of-switch-command">Aspect: Implementation of switch command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Raise new event to indicate switch event.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reduce direct coupling between components StudentListPanel and TutorListPanel with SwitchCommand</p>
</li>
<li>
<p>Cons: Code might be harder to understand.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Call a method in StudentListPanel and TutorListPanel to indicate a switch request.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Code is easier to understand.</p>
</li>
<li>
<p>Cons: Direct coupling occurs and changing a part might affect another component.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-15 11:42:58 UTC
</div>
</div>
</body>
</html>